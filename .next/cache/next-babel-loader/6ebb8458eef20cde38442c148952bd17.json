{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/pages/admin/products/create.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport Router from \"next/router\";\nimport Sidebar from \"../../../components/Partials/Sidebar\";\nimport Header from \"../../../components/Partials/Header\";\nimport Backdrop from '../../../components/Backdrop';\nimport Modal from '../../../components/Modal';\nimport { QUERY_PRODUCTS, CREATE_PRODUCT, UPDATE_PRODUCT, MY_PRODUCTS } from \"../../../graphql/Products\";\n\nvar createProduct = /*#__PURE__*/function (_Component) {\n  _inherits(createProduct, _Component);\n\n  var _super = _createSuper(createProduct);\n\n  function createProduct() {\n    var _this;\n\n    _classCallCheck(this, createProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      creating: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"CreateEventHandler\", function () {\n      _this.setState({\n        creating: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalConfirmHandler\", function () {\n      _this.setState({\n        creating: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalCancelHandler\", function () {\n      _this.setState({\n        creating: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderCreateProduct\", function () {\n      var _s = $RefreshSig$();\n\n      return _s(function () {\n        _s();\n\n        var _useState = useState(false),\n            edit = _useState[0],\n            setEdit = _useState[1];\n\n        var _useState2 = useState(null),\n            file = _useState2[0],\n            setFile = _useState2[1];\n\n        var _useState3 = useState({\n          name: \"\",\n          description: \"\",\n          price: \"\",\n          stockqty: \"\",\n          imageUrl: \"\"\n        }),\n            productData = _useState3[0],\n            setProductData = _useState3[1];\n\n        var _useMutation = useMutation(CREATE_PRODUCT, {\n          refetchQueries: [{\n            query: QUERY_PRODUCTS\n          }]\n        }),\n            _useMutation2 = _slicedToArray(_useMutation, 2),\n            createProduct = _useMutation2[0],\n            _useMutation2$ = _useMutation2[1],\n            loading = _useMutation2$.loading,\n            error = _useMutation2$.error;\n\n        var handleChange = function handleChange(e) {\n          return setProductData(_objectSpread(_objectSpread({}, productData), {}, _defineProperty({}, e.target.name, e.target.value)));\n        };\n\n        var selectFile = function selectFile(e) {\n          var files = e.target.files;\n          setFile(files[0]); //console.log(files)\n        }; //Upload File to Cloudinary\n\n\n        var uploadFile = /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var data, res, result;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    data = new FormData();\n                    data.append(\"file\", file);\n                    data.append(\"upload_preset\", \"shoppin\");\n                    _context.next = 5;\n                    return fetch(\"https://api.cloudinary.com/v1_1/swizce/image/upload\", {\n                      method: \"post\",\n                      body: data\n                    });\n\n                  case 5:\n                    res = _context.sent;\n                    _context.next = 8;\n                    return res.json();\n\n                  case 8:\n                    result = _context.sent;\n                    return _context.abrupt(\"return\", result.secure_url);\n\n                  case 10:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          return function uploadFile() {\n            return _ref.apply(this, arguments);\n          };\n        }();\n\n        var handleSubmit = /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n            var url, result;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    e.preventDefault();\n                    _context2.next = 4;\n                    return uploadFile();\n\n                  case 4:\n                    url = _context2.sent;\n\n                    if (!url) {\n                      _context2.next = 10;\n                      break;\n                    }\n\n                    _context2.next = 8;\n                    return createProduct({\n                      variables: _objectSpread(_objectSpread({}, productData), {}, {\n                        price: +productData.price,\n                        imageUrl: url\n                      })\n                    });\n\n                  case 8:\n                    result = _context2.sent;\n                    return _context2.abrupt(\"return\", result);\n\n                  case 10:\n                    Router.push(\"/userProducts\");\n                    _context2.next = 16;\n                    break;\n\n                  case 13:\n                    _context2.prev = 13;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.log(_context2.t0);\n\n                  case 16:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, null, [[0, 13]]);\n          }));\n\n          return function handleSubmit(_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }();\n\n        return __jsx(\"div\", {\n          className: \"create-product__Card\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }\n        }, __jsx(\"form\", {\n          onSubmit: handleSubmit,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }\n        }, __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"productname\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }\n        }, \"Product Name:\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"Enter Product Name\",\n          value: productData.name,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"address\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }\n        }, \"Product Desc:\"), __jsx(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"Product Description\",\n          value: productData.description,\n          onChange: handleChange,\n          rows: \"4\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"city\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }\n        }, \"Price:\"), __jsx(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          placeholder: \"Price\",\n          value: productData.price,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"stockqty\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }\n        }, \"Stock Qty:\"), __jsx(\"input\", {\n          type: \"number\",\n          name: \"stockqty\",\n          placeholder: \"Stock Qualtity\",\n          value: productData.stockqty,\n          onChange: handleChange,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }\n        }, \"--Select Categories--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }\n        }, \"--Select Brands--\"), __jsx(\"input\", {\n          type: \"text\",\n          name: \"contact\",\n          placeholder: \"Contact No.\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-control\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }\n        }, __jsx(\"label\", {\n          htmlFor: \"contact\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }\n        }, \"Product Image\"), __jsx(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          placeholder: \"file *.png, *.jpg...\",\n          onChange: selectFile,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }\n        })), __jsx(\"div\", {\n          className: \"form-submit\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 11\n          }\n        }, __jsx(\"button\", {\n          className: \"btn__cancel\",\n          onClick: function onClick() {\n            return Router.push(\"/userProducts\");\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }\n        }, \"Back\"), __jsx(\"button\", {\n          className: \"btn__submit\",\n          type: \"submit\",\n          style: {\n            cursor: !productData.name || !productData.description || !productData.price || !file || loading ? \"not-allowed\" : \"pointer\"\n          },\n          disabled: !productData.name || !productData.description || !productData.price || !file || loading,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }\n        }, \"Submit\", loading ? \"Submiting...\" : \"\"))));\n      }, \"SQ53qCg1U+a4Z6nFb+KyohO2ipk=\", false, function () {\n        return [useMutation];\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(createProduct, [{\n    key: \"render\",\n    value: function render() {\n      // const CreateForm = this._renderCreateProduct();\n      return __jsx(React.Fragment, null, __jsx(Sidebar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 9\n        }\n      }), __jsx(\"div\", {\n        className: \"main-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }\n      }, __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }), __jsx(\"main\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: \"view__header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }, __jsx(\"h3\", {\n        className: \"dash-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }\n      }, \"\\u0EAA\\u0EC9\\u0EB2\\u0E87\\u0E82\\u0ECD\\u0EC9\\u0EA1\\u0EB9\\u0E99\\u0E81\\u0EC8\\u0EBD\\u0EA7\\u0E81\\u0EB1\\u0E9A\\u0EAA\\u0EB5\\u0E99\\u0E84\\u0EC9\\u0EB2\"), __jsx(\"a\", {\n        onClick: function onClick() {\n          return Router.push(\"/admin/products\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }\n      }, __jsx(\"span\", {\n        className: \"ti-angle-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }\n      }), __jsx(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }\n      }, \"\\u0E81\\u0EB1\\u0E9A\\u0E84\\u0EB7\\u0E99\"))), __jsx(\"section\", {\n        className: \"recent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"activity-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        onClick: this.CreateEventHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }, \"\\u0EC0\\u0E9E\\u0EB5\\u0EC8\\u0EA1\\u0EA1\\u0EB9\\u0E99\\u0E97\\u0EBB\\u0EC8\\u0EA7\\u0EC4\\u0E9B\"), __jsx(\"div\", {\n        className: \"create-product__Card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }\n      }, __jsx(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 23\n        }\n      }, __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"productname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 27\n        }\n      }, \"Product Name:\"), __jsx(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Enter Product Name\",\n        value: productData.name,\n        onChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"address\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 27\n        }\n      }, \"Product Desc:\"), __jsx(\"textarea\", {\n        type: \"text\",\n        name: \"description\",\n        placeholder: \"Product Description\",\n        value: productData.description,\n        onChange: handleChange,\n        rows: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"city\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 27\n        }\n      }, \"Price:\"), __jsx(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        placeholder: \"Price\",\n        value: productData.price,\n        onChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"stockqty\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 27\n        }\n      }, \"Stock Qty:\"), __jsx(\"input\", {\n        type: \"number\",\n        name: \"stockqty\",\n        placeholder: \"Stock Qualtity\",\n        value: productData.stockqty,\n        onChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 27\n        }\n      }, \"--Select Categories--\"), __jsx(\"input\", {\n        type: \"text\",\n        name: \"contact\",\n        placeholder: \"Contact No.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 27\n        }\n      }, \"--Select Brands--\"), __jsx(\"input\", {\n        type: \"text\",\n        name: \"contact\",\n        placeholder: \"Contact No.\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }\n      }, __jsx(\"label\", {\n        htmlFor: \"contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 27\n        }\n      }, \"Product Image\"), __jsx(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        placeholder: \"file *.png, *.jpg...\",\n        onChange: selectFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      })), __jsx(\"div\", {\n        className: \"form-submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }\n      }, __jsx(\"button\", {\n        className: \"btn__cancel\",\n        onClick: function onClick() {\n          return Router.push(\"/userProducts\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 27\n        }\n      }, \"Back\"), __jsx(\"button\", {\n        className: \"btn__submit\",\n        type: \"submit\",\n        style: {\n          cursor: !productData.name || !productData.description || !productData.price || !file || loading ? \"not-allowed\" : \"pointer\"\n        },\n        disabled: !productData.name || !productData.description || !productData.price || !file || loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 27\n        }\n      }, \"Submit\", loading ? \"Submiting...\" : \"\")))))))));\n    }\n  }]);\n\n  return createProduct;\n}(Component);\n\nexport default createProduct;","map":{"version":3,"sources":["/Users/ailaodev/Desktop/Projects/Shoppin/shop-client/pages/admin/products/create.jsx"],"names":["React","Component","useState","useMutation","Router","Sidebar","Header","Backdrop","Modal","QUERY_PRODUCTS","CREATE_PRODUCT","UPDATE_PRODUCT","MY_PRODUCTS","createProduct","creating","setState","edit","setEdit","file","setFile","name","description","price","stockqty","imageUrl","productData","setProductData","refetchQueries","query","loading","error","handleChange","e","target","value","selectFile","files","uploadFile","data","FormData","append","fetch","method","body","res","json","result","secure_url","handleSubmit","preventDefault","url","variables","push","console","log","cursor","CreateEventHandler"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport Router from \"next/router\";\nimport Sidebar from \"../../../components/Partials/Sidebar\";\nimport Header from \"../../../components/Partials/Header\";\nimport Backdrop from '../../../components/Backdrop';\nimport Modal from '../../../components/Modal';\nimport {\n  QUERY_PRODUCTS,\n  CREATE_PRODUCT,\n  UPDATE_PRODUCT,\n  MY_PRODUCTS,\n} from \"../../../graphql/Products\";\n\n\n\nclass createProduct extends Component {\n  state = {\n    creating: false,\n  };\n\n  CreateEventHandler = () => {\n    this.setState({ creating: true });\n  };\n\n  modalConfirmHandler = () => {\n    this.setState({ creating: false });\n  };\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false });\n  };\n\n    /**\n   * Create Form Component with Function\n   */\n  _renderCreateProduct = () => () => {\n    const [edit, setEdit] = useState(false);\n    const [file, setFile] = useState(null);\n    const [productData, setProductData] = useState({\n      name: \"\",\n      description: \"\",\n      price: \"\",\n      stockqty: \"\",\n      imageUrl: \"\",\n    });\n\n    const [createProduct, { loading, error }] = useMutation(CREATE_PRODUCT, {\n      refetchQueries: [{ query: QUERY_PRODUCTS }],\n    });\n\n    const handleChange = (e) =>\n      setProductData({\n        ...productData,\n        [e.target.name]: e.target.value,\n      });\n\n    const selectFile = (e) => {\n      const files = e.target.files;\n      setFile(files[0]);\n      //console.log(files)\n    };\n\n    //Upload File to Cloudinary\n    const uploadFile = async () => {\n      const data = new FormData();\n      data.append(\"file\", file);\n      data.append(\"upload_preset\", \"shoppin\");\n      const res = await fetch(\n        \"https://api.cloudinary.com/v1_1/swizce/image/upload\",\n        {\n          method: \"post\",\n          body: data,\n        }\n      );\n      const result = await res.json();\n      //console.log('image result',  result)\n      return result.secure_url;\n    };\n\n    const handleSubmit = async (e) => {\n      try {\n        e.preventDefault();\n        const url = await uploadFile();\n        // console.log('image Url:', url)\n        if (url) {\n          const result = await createProduct({\n            variables: {\n              ...productData,\n              price: +productData.price,\n              imageUrl: url,\n            },\n          });\n          //console.log('Product Data:', result)\n          return result;\n        }\n        Router.push(\"/userProducts\");\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    return (\n      <div className=\"create-product__Card\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-control\">\n            <label htmlFor=\"productname\">Product Name:</label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Enter Product Name\"\n              value={productData.name}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"address\">Product Desc:</label>\n            <textarea\n              type=\"text\"\n              name=\"description\"\n              placeholder=\"Product Description\"\n              value={productData.description}\n              onChange={handleChange}\n              rows=\"4\"\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"city\">Price:</label>\n            <input\n              type=\"number\"\n              name=\"price\"\n              placeholder=\"Price\"\n              value={productData.price}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"stockqty\">Stock Qty:</label>\n            <input\n              type=\"number\"\n              name=\"stockqty\"\n              placeholder=\"Stock Qualtity\"\n              value={productData.stockqty}\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"contact\">--Select Categories--</label>\n            <input type=\"text\" name=\"contact\" placeholder=\"Contact No.\" />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"contact\">--Select Brands--</label>\n            <input type=\"text\" name=\"contact\" placeholder=\"Contact No.\" />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"contact\">Product Image</label>\n            <input\n              type=\"file\"\n              name=\"file\"\n              placeholder=\"file *.png, *.jpg...\"\n              onChange={selectFile}\n            />\n          </div>\n          <div className=\"form-submit\">\n            <button\n              className=\"btn__cancel\"\n              onClick={() => Router.push(\"/userProducts\")}\n            >\n              Back\n            </button>\n            <button\n              className=\"btn__submit\"\n              type=\"submit\"\n              style={{\n                cursor:\n                  !productData.name ||\n                  !productData.description ||\n                  !productData.price ||\n                  !file ||\n                  loading\n                    ? \"not-allowed\"\n                    : \"pointer\",\n              }}\n              disabled={\n                !productData.name ||\n                !productData.description ||\n                !productData.price ||\n                !file ||\n                loading\n              }\n            >\n              Submit{loading ? \"Submiting...\" : \"\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  };\n\n  render() {\n    // const CreateForm = this._renderCreateProduct();\n    return (\n      <>\n        <Sidebar />\n        <div className=\"main-content\">\n          <Header />\n          <main>\n            <div className=\"view__header\">\n              <h3 className=\"dash-title\">ສ້າງຂໍ້ມູນກ່ຽວກັບສີນຄ້າ</h3>\n              <a onClick={() => Router.push(\"/admin/products\")}>\n                <span className=\"ti-angle-left\"></span>\n                <small>ກັບຄືນ</small>\n              </a>\n            </div>\n\n            <section className=\"recent\">\n              <div className=\"activity-card\">\n                <a onClick={this.CreateEventHandler}>ເພີ່ມມູນທົ່ວໄປ</a>\n              {/* {this.state.creating && <Backdrop />}\n              {this.state.creating && (\n                <Modal\n                  title=\"Create Product\"\n                  canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmHandler}\n                >\n                  <CreateForm />\n                </Modal>\n              )} */}\n\n              <div className=\"create-product__Card\">\n              {/* onSubmit={handleSubmit} */}\n                      <form>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"productname\">Product Name:</label>\n                          <input\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Enter Product Name\"\n                            value={productData.name}\n                            onChange={handleChange}\n                          />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"address\">Product Desc:</label>\n                          <textarea\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Product Description\"\n                            value={productData.description}\n                            onChange={handleChange}\n                            rows=\"4\"\n                          />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"city\">Price:</label>\n                          <input\n                            type=\"number\"\n                            name=\"price\"\n                            placeholder=\"Price\"\n                            value={productData.price}\n                            onChange={handleChange}\n                          />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"stockqty\">Stock Qty:</label>\n                          <input\n                            type=\"number\"\n                            name=\"stockqty\"\n                            placeholder=\"Stock Qualtity\"\n                            value={productData.stockqty}\n                            onChange={handleChange}\n                          />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"contact\">--Select Categories--</label>\n                          <input type=\"text\" name=\"contact\" placeholder=\"Contact No.\" />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"contact\">--Select Brands--</label>\n                          <input type=\"text\" name=\"contact\" placeholder=\"Contact No.\" />\n                        </div>\n                        <div className=\"form-control\">\n                          <label htmlFor=\"contact\">Product Image</label>\n                          <input\n                            type=\"file\"\n                            name=\"file\"\n                            placeholder=\"file *.png, *.jpg...\"\n                            onChange={selectFile}\n                          />\n                        </div>\n                        <div className=\"form-submit\">\n                          <button\n                            className=\"btn__cancel\"\n                            onClick={() => Router.push(\"/userProducts\")}\n                          >\n                            Back\n                          </button>\n                          <button\n                            className=\"btn__submit\"\n                            type=\"submit\"\n                            style={{\n                              cursor:\n                                !productData.name ||\n                                !productData.description ||\n                                !productData.price ||\n                                !file ||\n                                loading\n                                  ? \"not-allowed\"\n                                  : \"pointer\",\n                            }}\n                            disabled={\n                              !productData.name ||\n                              !productData.description ||\n                              !productData.price ||\n                              !file ||\n                              loading\n                            }\n                          >\n                            Submit{loading ? \"Submiting...\" : \"\"}\n                          </button>\n                        </div>\n                      </form>\n                    </div>\n              </div>\n            </section>\n          </main>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default createProduct;\n"]},"metadata":{},"sourceType":"module"}